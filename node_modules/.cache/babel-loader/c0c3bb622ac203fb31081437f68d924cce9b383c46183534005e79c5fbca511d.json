{"ast":null,"code":"import { ref } from 'vue';\nimport Layout from '@/layouts/main.vue';\nimport PageHeader from '@/components/page-header.vue';\nimport axios from 'axios';\nexport default {\n  __name: 'payment',\n  setup(__props, {\n    expose\n  }) {\n    expose();\n    const title = 'Оплата';\n    const items = [{\n      text: 'Оплата',\n      href: '/'\n    }, {\n      text: 'Лицевой счёт',\n      active: true\n    }];\n    const form = ref({\n      accountNumber: ''\n    });\n    const submitPayment = async () => {\n      try {\n        const {\n          data\n        } = await axios.post('https://v.zesu.ru/payment/create/', {\n          account_number: form.value.accountNumber\n        });\n        if (data.confirmation_url) {\n          // Yuborilgan URLga avtomatik redirect\n          window.location.href = data.confirmation_url;\n        } else {\n          console.error('confirmation_url topilmadi!');\n        }\n      } catch (err) {\n        console.error('To‘lov yaratishda xatolik:', err);\n      }\n    };\n    const __returned__ = {\n      title,\n      items,\n      form,\n      submitPayment,\n      ref,\n      Layout,\n      PageHeader,\n      get axios() {\n        return axios;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","Layout","PageHeader","axios","title","items","text","href","active","form","accountNumber","submitPayment","data","post","account_number","value","confirmation_url","window","location","console","error","err"],"sources":["C:/Users/UMIDJON/Desktop/default2/src/views/tables/payment.vue"],"sourcesContent":["<template>\r\n  <Layout>\r\n    <PageHeader :title=\"title\" :items=\"items\" />\r\n\r\n    <el-card shadow=\"never\">\r\n      <div class=\"card-header mb-4\">\r\n        <span class=\"card-title\">Оплата по лицевому счету</span>\r\n      </div>\r\n\r\n      <el-form @submit.prevent=\"submitPayment\" :model=\"form\" label-position=\"top\">\r\n        <el-form-item label=\"Лицевой счет\">\r\n          <el-input v-model=\"form.accountNumber\" placeholder=\"Введите номер счёта\" />\r\n        </el-form-item>\r\n\r\n        <el-button type=\"primary\" @click=\"submitPayment\">Перейти к оплате</el-button>\r\n      </el-form>\r\n    </el-card>\r\n  </Layout>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref } from 'vue';\r\nimport Layout from '@/layouts/main.vue';\r\nimport PageHeader from '@/components/page-header.vue';\r\nimport axios from 'axios';\r\n\r\nconst title = 'Оплата';\r\nconst items = [\r\n  { text: 'Оплата', href: '/' },\r\n  { text: 'Лицевой счёт', active: true },\r\n];\r\n\r\nconst form = ref({\r\n  accountNumber: '',\r\n});\r\n\r\nconst submitPayment = async () => {\r\n  try {\r\n    const { data } = await axios.post('https://v.zesu.ru/payment/create/', {\r\n      account_number: form.value.accountNumber,\r\n    });\r\n\r\n    if (data.confirmation_url) {\r\n      // Yuborilgan URLga avtomatik redirect\r\n      window.location.href = data.confirmation_url;\r\n    } else {\r\n      console.error('confirmation_url topilmadi!');\r\n    }\r\n  } catch (err) {\r\n    console.error('To‘lov yaratishda xatolik:', err);\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.card-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  font-weight: 600;\r\n  font-size: 18px;\r\n  margin-bottom: 10px;\r\n  padding-bottom: 20px;\r\n}\r\n</style>\r\n"],"mappings":"AAqBA,SAASA,GAAG,QAAQ,KAAK;AACzB,OAAOC,MAAM,MAAM,oBAAoB;AACvC,OAAOC,UAAU,MAAM,8BAA8B;AACrD,OAAOC,KAAK,MAAM,OAAO;;;;;;;IAEzB,MAAMC,KAAK,GAAG,QAAQ;IACtB,MAAMC,KAAK,GAAG,CACZ;MAAEC,IAAI,EAAE,QAAQ;MAAEC,IAAI,EAAE;IAAI,CAAC,EAC7B;MAAED,IAAI,EAAE,cAAc;MAAEE,MAAM,EAAE;IAAK,CAAC,CACvC;IAED,MAAMC,IAAI,GAAGT,GAAG,CAAC;MACfU,aAAa,EAAE;IACjB,CAAC,CAAC;IAEF,MAAMC,aAAa,GAAG,MAAAA,CAAA,KAAY;MAChC,IAAI;QACF,MAAM;UAAEC;QAAK,CAAC,GAAG,MAAMT,KAAK,CAACU,IAAI,CAAC,mCAAmC,EAAE;UACrEC,cAAc,EAAEL,IAAI,CAACM,KAAK,CAACL;QAC7B,CAAC,CAAC;QAEF,IAAIE,IAAI,CAACI,gBAAgB,EAAE;UACzB;UACAC,MAAM,CAACC,QAAQ,CAACX,IAAI,GAAGK,IAAI,CAACI,gBAAgB;QAC9C,CAAC,MAAM;UACLG,OAAO,CAACC,KAAK,CAAC,6BAA6B,CAAC;QAC9C;MACF,CAAC,CAAC,OAAOC,GAAG,EAAE;QACZF,OAAO,CAACC,KAAK,CAAC,4BAA4B,EAAEC,GAAG,CAAC;MAClD;IACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}