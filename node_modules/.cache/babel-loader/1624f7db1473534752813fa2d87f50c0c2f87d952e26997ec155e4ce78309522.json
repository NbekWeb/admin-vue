{"ast":null,"code":"import { reactive, ref, computed } from 'vue';\nimport { ElMessage } from 'element-plus';\n\n// Props & Emits\n\nexport default {\n  __name: 'TariffModal',\n  props: {\n    modelValue: {\n      type: Boolean,\n      required: true\n    }\n  },\n  emits: ['update:modelValue', 'create'],\n  setup(__props, {\n    expose,\n    emit\n  }) {\n    const props = __props;\n\n    // Visibility binding\n    const visible = computed({\n      get: () => props.modelValue,\n      set: v => emit('update:modelValue', v)\n    });\n\n    // Form state & validation\n    const formRef = ref(null);\n    const form = reactive({\n      code: '',\n      name: '',\n      price: null,\n      unit_measurement: 'month',\n      archive: true\n    });\n    const rules = {\n      code: [{\n        required: true,\n        message: 'Введите код',\n        trigger: 'blur'\n      }],\n      name: [{\n        required: true,\n        message: 'Введите название',\n        trigger: 'blur'\n      }],\n      price: [{\n        required: true,\n        message: 'Введите цену',\n        trigger: 'change'\n      }]\n    };\n\n    // Handlers\n    const onSubmit = () => {\n      formRef.value.validate(valid => {\n        if (valid) {\n          emit('create', {\n            ...form\n          });\n          visible.value = false;\n          ElMessage.success('Тариф создан');\n        }\n      });\n    };\n    function open() {\n      visible.value = false;\n    }\n    const onCancel = () => {\n      visible.value = false;\n    };\n    expose({\n      open\n    });\n    const __returned__ = {\n      props,\n      emit,\n      visible,\n      formRef,\n      form,\n      rules,\n      onSubmit,\n      open,\n      onCancel,\n      reactive,\n      ref,\n      computed,\n      get ElMessage() {\n        return ElMessage;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["reactive","ref","computed","ElMessage","visible","get","props","modelValue","set","v","emit","formRef","form","code","name","price","unit_measurement","archive","rules","required","message","trigger","onSubmit","value","validate","valid","success","open","onCancel","expose"],"sources":["C:/Users/UMIDJON/Desktop/default2/src/views/tables/components/TariffModal.vue"],"sourcesContent":["<template>\r\n  <el-dialog\r\n    :visible=\"visible\"\r\n    title=\"Создать тариф\"\r\n    width=\"500px\"\r\n    :before-close=\"onCancel\"\r\n  >\r\n    <el-form\r\n      :model=\"form\"\r\n      :rules=\"rules\"\r\n      ref=\"formRef\"\r\n      label-width=\"120px\"\r\n    >\r\n      <el-form-item label=\"Код\" prop=\"code\">\r\n        <el-input v-model=\"form.code\" />\r\n      </el-form-item>\r\n\r\n      <el-form-item label=\"Название\" prop=\"name\">\r\n        <el-input v-model=\"form.name\" />\r\n      </el-form-item>\r\n\r\n      <el-form-item label=\"Цена, руб\" prop=\"price\">\r\n        <el-input-number v-model=\"form.price\" :min=\"0\" />\r\n      </el-form-item>\r\n\r\n      <el-form-item label=\"Период\" prop=\"unit_measurement\">\r\n        <el-select v-model=\"form.unit_measurement\" placeholder=\"Выберите период\">\r\n          <el-option label=\"День\" value=\"day\" />\r\n          <el-option label=\"Месяц\" value=\"month\" />\r\n          <el-option label=\"Год\" value=\"year\" />\r\n        </el-select>\r\n      </el-form-item>\r\n\r\n      <el-form-item label=\"Статус\" prop=\"archive\">\r\n        <el-switch\r\n          v-model=\"form.archive\"\r\n          active-text=\"Действующий\"\r\n          inactive-text=\"Не действующий\"\r\n        />\r\n      </el-form-item>\r\n    </el-form>\r\n\r\n    <template #footer>\r\n      <el-button @click=\"onCancel\">Отмена</el-button>\r\n      <el-button type=\"primary\" @click=\"onSubmit\">Сохранить</el-button>\r\n    </template>\r\n  </el-dialog>\r\n</template>\r\n\r\n<script setup>\r\nimport { reactive, ref, computed, defineEmits, defineProps } from 'vue'\r\nimport { ElMessage } from 'element-plus'\r\n\r\n// Props & Emits\r\nconst props = defineProps({\r\n  modelValue: { type: Boolean, required: true }\r\n})\r\nconst emit = defineEmits(['update:modelValue', 'create'])\r\n\r\n// Visibility binding\r\nconst visible = computed({\r\n  get: () => props.modelValue,\r\n  set: v => emit('update:modelValue', v)\r\n})\r\n\r\n// Form state & validation\r\nconst formRef = ref(null)\r\nconst form = reactive({\r\n  code: '',\r\n  name: '',\r\n  price: null,\r\n  unit_measurement: 'month',\r\n  archive: true\r\n})\r\nconst rules = {\r\n  code: [{ required: true, message: 'Введите код', trigger: 'blur' }],\r\n  name: [{ required: true, message: 'Введите название', trigger: 'blur' }],\r\n  price: [{ required: true, message: 'Введите цену', trigger: 'change' }]\r\n}\r\n\r\n// Handlers\r\nconst onSubmit = () => {\r\n  formRef.value.validate(valid => {\r\n    if (valid) {\r\n      emit('create', { ...form })\r\n      visible.value = false\r\n      ElMessage.success('Тариф создан')\r\n    }\r\n  })\r\n}\r\nfunction open() {\r\n  visible.value = false\r\n   \r\n}\r\nconst onCancel = () => {\r\n  visible.value = false\r\n}\r\ndefineExpose({\r\n   open\r\n})\r\n</script>\r\n\r\n<style scoped>\r\n.card-header { /* Берем стиль из родителя, если нужно */ }\r\n</style>\r\n"],"mappings":"AAkDA,SAASA,QAAQ,EAAEC,GAAG,EAAEC,QAAkC,QAAQ,KAAK;AACvE,SAASC,SAAS,QAAQ,cAAc;;AAExC;;;;;;;;;;;;;;;;;IAMA;IACA,MAAMC,OAAO,GAAGF,QAAQ,CAAC;MACvBG,GAAG,EAAEA,CAAA,KAAMC,KAAK,CAACC,UAAU;MAC3BC,GAAG,EAAEC,CAAC,IAAIC,IAAI,CAAC,mBAAmB,EAAED,CAAC;IACvC,CAAC,CAAC;;IAEF;IACA,MAAME,OAAO,GAAGV,GAAG,CAAC,IAAI,CAAC;IACzB,MAAMW,IAAI,GAAGZ,QAAQ,CAAC;MACpBa,IAAI,EAAE,EAAE;MACRC,IAAI,EAAE,EAAE;MACRC,KAAK,EAAE,IAAI;MACXC,gBAAgB,EAAE,OAAO;MACzBC,OAAO,EAAE;IACX,CAAC,CAAC;IACF,MAAMC,KAAK,GAAG;MACZL,IAAI,EAAE,CAAC;QAAEM,QAAQ,EAAE,IAAI;QAAEC,OAAO,EAAE,aAAa;QAAEC,OAAO,EAAE;MAAO,CAAC,CAAC;MACnEP,IAAI,EAAE,CAAC;QAAEK,QAAQ,EAAE,IAAI;QAAEC,OAAO,EAAE,kBAAkB;QAAEC,OAAO,EAAE;MAAO,CAAC,CAAC;MACxEN,KAAK,EAAE,CAAC;QAAEI,QAAQ,EAAE,IAAI;QAAEC,OAAO,EAAE,cAAc;QAAEC,OAAO,EAAE;MAAS,CAAC;IACxE,CAAC;;IAED;IACA,MAAMC,QAAQ,GAAGA,CAAA,KAAM;MACrBX,OAAO,CAACY,KAAK,CAACC,QAAQ,CAACC,KAAK,IAAI;QAC9B,IAAIA,KAAK,EAAE;UACTf,IAAI,CAAC,QAAQ,EAAE;YAAE,GAAGE;UAAK,CAAC,CAAC;UAC3BR,OAAO,CAACmB,KAAK,GAAG,KAAK;UACrBpB,SAAS,CAACuB,OAAO,CAAC,cAAc,CAAC;QACnC;MACF,CAAC,CAAC;IACJ,CAAC;IACD,SAASC,IAAIA,CAAA,EAAG;MACdvB,OAAO,CAACmB,KAAK,GAAG,KAAK;IAEvB;IACA,MAAMK,QAAQ,GAAGA,CAAA,KAAM;MACrBxB,OAAO,CAACmB,KAAK,GAAG,KAAK;IACvB,CAAC;IACDM,MAAY,CAAC;MACVF;IACH,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}